!function(e){function t(t){for(var n,l,r=t[0],c=t[1],o=t[2],m=0,h=[];m<r.length;m++)l=r[m],s[l]&&h.push(s[l][0]),s[l]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(d&&d(t);h.length;)h.shift()();return i.push.apply(i,o||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,r=1;r<a.length;r++){var c=a[r];0!==s[c]&&(n=!1)}n&&(i.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},s={0:0},i=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var r=window.webpackJsonp=window.webpackJsonp||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var o=0;o<r.length;o++)t(r[o]);var d=c;i.push([375,1]),a()}({153:function(e,t,a){window,e.exports=function(e){var t={};function a(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){e.exports=a(2)},function(e,t,a){},function(e,t,a){"use strict";function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}a.r(t),a(1);var s=function(){function e(t,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elems={},this.opts=a,this.corners=["authorship","backstory","imagery","links"],this.cornerTitles=["Authorship","Backstory","Related Imagery","Links"],this.elems.embed=t,this.data=b(this),this.elems.photo=c(this),this.elems.panels=o(this),this.elems.corners=g(this),this.elems.caption=v(this),i(this)}var t,a;return t=e,(a=[{key:"init",value:function(t){var a=this;a.embeds=[];var n=Object.assign({selector:".fc-embed:not(.fc-init)",interactive:!0,active:null,cutline:!0,posDur:.2,transDur:.1},t);return Array.from(document.querySelectorAll(n.selector)).forEach(function(t,s){var i=new e(t,n);a.embeds.push(i)}),a.embeds}},{key:"getPanel",value:function(e){var t=this.elems.embed;if(t){var a=".fc-panel";return e?(a+='[data-fc-slug="'+e+'"]',t.querySelector(a)):t.querySelectorAll(a)}}},{key:"openPanel",value:function(e){var t=this,a=t.corners,n=t.elems.embed,s=t.elems.corners[e],i=t.getPanel(e);n.classList.remove("fc-full"),n&&s&&i&&(n.dataset.fcActive=e,n.classList.add("fc-active"),s.classList.add("fc-active"),i.classList.add("fc-active")),a.forEach(function(a,n){a!=e&&t.closePanel(a)})}},{key:"closePanel",value:function(e){var t=this.elems.embed;if(e||(e=t.dataset.fcActive),e){var a=this.elems.corners[e],n=this.getPanel(e);e==t.dataset.fcActive&&(t.dataset.fcActive="",t.classList.remove("fc-active")),a&&a.classList.remove("fc-active"),n&&n.classList.remove("fc-active")}}},{key:"toggleExpandPanel",value:function(){this.elems.embed.classList.toggle("fc-full")}}])&&n(t.prototype,a),e}(),i=function(e){var t=e.elems.embed;t.classList.add("fc-init"),e.data&&e.data.opts&&e.data.opts.dark&&t.classList.add("fc-dark"),e.opts.interactive&&(window.addEventListener("resize",function(t){l(t,e)}),t.addEventListener("click",function(t){var a=C(t.target,e.getPanel()),n=C(t.target,e.elems.corners),s=C(t.target,Array.from(document.querySelectorAll("#creator")));a||n||s||(e.closePanel(),e.elems.embed.classList.remove("fc-full"))})),l(null,e)},l=function(e,t){var a=t.getPanel();a&&Object.keys(a).forEach(function(e,t){r(a[e])})},r=function(e){if("function"==typeof e.querySelector){var t=e.querySelector(".fc-scroll");t&&(t.scrollHeight>t.clientHeight?e.classList.add("fc-overflow"):e.classList.remove("fc-overflow"))}},c=function(e){var t=e.elems.embed;if(e.data){var a,n,s=".fc-photo";return t.querySelector(s)?a=t.querySelector(s):(a='<div class="fc-photo"></div>',t.innerHTML+=a),(n=t.querySelector(".fc-img"))&&(t.classList.add("fc-loaded"),t.appendChild(n)),a}},o=function(e){var t={};return e.elems.embed,e.corners.forEach(function(t,a){var n=e.opts.active;if(!e.getPanel(t)){var s="";if(e.data&&e.data[t]){var i=e.data[t];switch(t){case"authorship":s=d(e,i);break;case"backstory":s=m(e,i);break;case"imagery":s=h(e,i);break;case"links":s=p(e,i)}}var l=e.cornerTitles[a],r="fc-panel fc-"+t;t==n&&(r+=" fc-active");var c='<div data-fc-slug="'.concat(t,'" class="').concat(r,'">\n\t\t\t\t\t<div class="fc-panel-title">\n\t\t\t\t\t\t<span>').concat(l,'</span>\n\t\t\t\t\t\t<div class="fc-icon fc-expand" title="Expand this panel"></div>\n\t\t\t\t\t\t<div class="fc-icon fc-close" title="Close this panel"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="fc-panel-title fc-pseudo">\n\t\t\t\t\t\t<span>').concat(e.corners.indexOf(t),"</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t").concat(s?'<div class="fc-scroll">\n\t\t\t\t\t\t<div class="fc-inner">\n\t\t\t\t\t\t\t'.concat(s,"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>"):"","\n\t\t\t\t</div>");e.elems.embed.innerHTML+=c}}),e.corners.forEach(function(a,n){var s=e.getPanel(a);(t[a]=s).querySelector(".fc-expand").addEventListener("click",function(t){e.toggleExpandPanel()}),s.querySelector(".fc-close").addEventListener("click",function(t){e.closePanel(a),e.elems.embed.classList.remove("fc-full")})}),t},d=function(e,t){var a,n="";n+=t.caption?'<div class="fc-field">\n\t\t\t<em>'.concat(t.caption,"</em>\n\t\t</div>"):"";var s=[];t.license||(t.license={});var i="copyright"==t.license.type;return t.license.year&&s.push("<span>".concat(t.license.year,"</span>")),t.credit&&s.push("<span>".concat(t.license.holder?t.credit+"/"+t.license.holder:t.credit,"</span>")),n+=i||t.credit?'<div class="fc-field" data-fc-field="credit">\n\t\t\t\t<div class="fc-content">\n\t\t\t\t\t'.concat(i?'<div class="fc-copyright">\n\t\t\t\t\t\t\t'.concat(s.join(""),"\n\t\t\t\t\t\t</div>"):"<div>".concat(t.credit,"</div>"),"\n\t\t\t\t</div>\n\t\t\t</div>"):"",n+=t.license&&t.license.label&&"commons"==t.license.type?'<div class="fc-field" data-fc-field="license">\n\t\t\t\t<span class="fc-label">License</span>\n\t\t\t\t<span class="fc-content">\n\t\t\t\t\t'.concat(t.license.url?'<a href="'.concat(t.license.url,'" target="_blank">\n\t\t\t\t\t\t').concat(t.license.label?t.license.label:"","\n\t\t\t\t\t</a>"):t.license.label?t.license.label:"","\n\t\t\t\t</span>\n\t\t\t</div>"):"",n+=t.ethics&&t.ethics.desc?'<div class="fc-field" data-fc-field="ethics">\n\t\t\t\t<span class="fc-label">Code of ethics</span>\n\t\t\t\t<span class="fc-content">\n\t\t\t\t\t<div class="fc-sub-caption">'.concat(t.ethics.desc,"</div>\n\t\t\t\t</span>\n\t\t\t</div>"):"",n+=t.bio?'<div class="fc-field">\n\t\t\t<span class="fc-label">Bio</span>\n\t\t\t'.concat(t.bio,"\n\t\t</div>"):"",(n+=t.website||t["0-contact"]||t["1-contact"]?'<div class="fc-field fc-contact">\n\n\t\t\t'.concat(t.website?'<div class="fc-field fc-card">\n\t\t\t\t<div class="fc-label">Website</div>\n\t\t\t\t'.concat(x(t.website),"\n\t\t\t</div>"):"","\n\n\t\t\t").concat(t["0-contact"]?'<div class="fc-field fc-card">\n\t\t\t\t<div class="fc-label">For more info contact</div>\n\t\t\t\t'.concat(x(t["0-contact"]),"\n\t\t\t</div>"):"","\n\n\t\t\t").concat(t["1-contact"]?'<div class="fc-field fc-card">\n\t\t\t\t<div class="fc-label">For reproduction rights contact</div>\n\t\t\t\t'.concat(x(t["1-contact"]),"\n\t\t\t</div>"):"","\n\n\t\t</div>"):"").length&&(a='<div class="fc-row">'.concat(n,"</div>")),a},m=function(e,t){return"".concat(t.text?'<div class="fc-row">\n\t\t\t'.concat(N(t.text),"\n\t\t</div>"):"","\n\t\t").concat(t.media?t.media.map(function(t,a){return f(e,t,"backstory",a),'<div class="fc-row">\n\t\t\t\t<div class="fc-media" data-fc-source="'.concat(t.source,'">\n\t\t\t\t</div>\n\t\t\t\t').concat(t.caption?'<div class="fc-sub-caption">'.concat(t.caption,"</div>"):"","\n\t\t\t\t").concat(t.credit?'<div class="fc-sub-credit">'.concat(t.credit,"</div>"):"","\n\t\t\t</div>")}).join(""):"")},h=function(e,t){if(t.media)return"".concat(t.media.map(function(t,a){return"image"!=t.source&&t.source?f(e,t,"imagery",a):u(e,t,"imagery",a),'<div class="fc-row">\n\t\t\t\t<div class="fc-media" data-fc-source="'.concat(t.source,'">\n\t\t\t\t</div>\n\t\t\t\t').concat(t.caption?'<div class="fc-sub-caption">'.concat(t.caption,"</div>"):"","\n\t\t\t\t").concat(t.credit?'<div class="fc-sub-credit">'.concat(t.credit,"</div>"):"","\n\t\t\t</div>")}).join(""))},p=function(e,t){if(t.links)return t.links.map(function(e){if(!e||!e.url)return null;var t=S(e.url),a=e.url?"".concat(e.title?e.title:t,'\n\t\t\t<div class="fc-sub-url">').concat(t,"</div>"):"";return'<div class="fc-row">'.concat(x(e.url,a,["fc-card"]),"</div>")}).join("")},u=function(e,t,a,n){if(t.url){var s=new Image;s.onload=function(s){var i='<img src="'.concat(t.url,'"/>');e.elems.panels[a].querySelectorAll(".fc-media")[n].innerHTML+=i},s.onerror=function(e){console.warn("Four Corners cannot load this as an image: "+t.url,e)},s.src=t.url}},f=function(e,t,a,n){var s="";switch(t.source){case"youtube":s="https://noembed.com/embed?url="+t.url;break;case"vimeo":s="https://vimeo.com/api/oembed.json?url="+t.url;break;case"soundcloud":s="https://soundcloud.com/oembed?format=json&url="+t.url;break;default:return!1}fetch(s,{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).then(function(t){var s=e.elems.panels[a].querySelectorAll(".fc-media")[n];if(Number.isInteger(t.width,t.height)){var i=t.height/t.width;s.classList.add("fc-responsive"),s.style.paddingBottom=100*i+"%"}s.innerHTML=t.html}).catch(function(e){console.warn("Four Corners cannot load this media source: "+src,e)})},g=function(e){var t,a={},n=e.elems.embed,s=(e.elems.photo,e.opts.active);return e.corners.forEach(function(i,l){var r='.fc-corner[data-fc-slug="'+i+'"]';if(!n.querySelector(r)){var c=document.createElement("div");c.dataset.fcSlug=i,c.title="View "+i,c.classList.add("fc-corner"),c.classList.add("fc-"+i),i==s&&c.classList.add("fc-active"),e.data&&((t=e.data[i])&&Object.keys(t).length||c.classList.add("fc-empty")),e.opts.interactive&&(c.addEventListener("mouseenter",function(t){E(t,e)}),c.addEventListener("mouseleave",function(t){y(t,e)}),c.addEventListener("click",function(t){k(t,e)})),a[i]=c,n.appendChild(c)}}),a},v=function(e){if(e.data&&e.opts.cutline){var t=e.data.authorship;if(t){var a=e.elems.embed,n=document.createElement("div");if(n.classList.add("fc-cutline"),t.credit){var s=document.createElement("span");s.classList.add("fc-credit"),s.innerHTML=t.credit,n.appendChild(s)}n.innerHTML+='<a href="https://fourcornersproject.org" target="_blank" class="fc-link" title="This is a Four Corners photo"></a>',a.parentNode.insertBefore(n,a.nextSibling)}}},b=function(e){if(e.elems.embed){var t=e.elems.embed.dataset.fc;if(t)return t=t,delete e.elems.embed.dataset.fc,JSON.parse(t)}},E=function(e,t){e.target.classList.add("fc-hover")},y=function(e,t){e.target.classList.remove("fc-hover")},k=function(e,t){var a=e.target.dataset.fcSlug,n=t.elems.embed.dataset.fcActive;a&&(a==n?t.closePanel(a):t.openPanel(a))},C=function(e,t){var a=!1;return Object.entries(t).forEach(function(t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,s=!1,i=void 0;try{for(var l,r=e[Symbol.iterator]();!(n=(l=r.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){s=!0,i=e}finally{try{n||null==r.return||r.return()}finally{if(s)throw i}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(t,2),s=(n[0],n[1]);s&&s.contains&&s.contains(e)&&(a=!0)}),a},N=function(e){var t=e.split(/\n/g);return t?"".concat(t.map(function(e,t){return e?"<p>".concat(e,"</p>"):"<br/>"}).join("")):""},x=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];return t||(t=S(e)),-1<e.indexOf("@")&&(e="mailto:"+e),'<a href="'.concat(e,'" target="_blank" class="').concat(a.join(" "),'">').concat(t,"</a>")},S=function(e){if(!e)return!1;var t,a=!!(t=e)&&(-1<t.indexOf("//")?t.split("/")[2]:t.split("/")[0]).split(":")[0].split("?")[0],n=a.split("."),s=n.length;return 2<s&&(a=n[s-2]+"."+n[s-1],2==n[s-2].length&&2==n[s-1].length&&(a=n[s-3]+"."+a)),a},w=s;t.default=w}])},188:function(e,t){},372:function(e,t){},373:function(e,t,a){},375:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(21),l=a(64),r=a(378),c=a(379),o=a(380),d=a(3),m=a.n(d),h=a(98),p=a(151),u=a.n(p),f=a(152),g=a.n(f);h.a.use(u.a).use(g.a).use(l.b).init({fallbackLng:"en",debug:!0,react:{wait:!0,bindI18n:"languageChanged loaded",bindStore:"added removed",nsMode:"default"},detection:{order:["path","querystring","cookie","localStorage","navigator","htmlTag","subdomain"],lookupQuerystring:"lang",lookupCookie:"i18n",lookupLocalStorage:"i18nextLng"},backend:{loadPath:SiteSettings.url.api+"{{ns}}/{{lng}}"}});var v=h.a,b=a(377);var E=class extends s.a.Component{constructor(e){super(e),this.state={page:{}}}componentDidMount(){let e=this;const t=FourCorners.default.prototype.init();if(!t)return;e.fourCorners=t[0];let a=v.language,n=SiteSettings.url.api+"page?slug=home&lang="+a;fetch(n).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).then(function(t){t&&e.setState({page:t})}),v.on("languageChanged",this.onLanguageChanged)}componentWillUnmount(){v.off("languageChanged",this.onLanguageChanged)}onLanguageChanged(e){this.setState({lang:e})}render(){return s.a.createElement("main",{id:"home"},s.a.createElement("section",{id:"home-intro"},s.a.createElement("div",{className:"max-width"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-12"},s.a.createElement("h2",null,"An initiative to increase authorship and credibility in visual media.")),s.a.createElement("div",{className:"col col-12 col-lg-6 left"},s.a.createElement("div",{className:"col-content"},s.a.createElement("div",{className:"content-block"},m()(this.state.page.post_content)))),s.a.createElement("div",{className:"col col-12 col-lg-6 right"},s.a.createElement("div",{className:"col-content"},s.a.createElement("div",{className:"content-block"},s.a.createElement("img",{id:"corners-preview",src:SiteSettings.url.theme+"/assets/images/corners.svg"})))),s.a.createElement("div",{className:"col col-12"},s.a.createElement("div",{className:"content-block"},s.a.createElement("h3",null,"Are you a photographer or publisher?"),s.a.createElement("h2",{className:"prompt-link"},s.a.createElement(b.a,{to:SiteSettings.path+"create"},s.a.createElement("u",null,"Try it out!")))))))),s.a.createElement("section",{id:"home-about"},s.a.createElement("div",{className:"max-width"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-12 col-md-6 left"},s.a.createElement("div",{className:"col-content"},s.a.createElement("h3",null,"The ",s.a.createElement("strong",null,"Four Corners Project")," is meant to ",s.a.createElement("strong",null,"increase the authorship and authority")," of the photographer and the photograph itself by providing a fixed template to add context to each of the four corners of the image. By clicking on each of the corners, the interested reader is able to find out more about what is referenced by the photograph."))),s.a.createElement("div",{className:"col col-12 col-md-6 right"},s.a.createElement("div",{className:"col-content"},s.a.createElement("h3",null,"The platform is free and open source. ",s.a.createElement("strong",null,"It is the first major advance in contextualizing the photograph since the caption.")," It is also the first time that a photographer can immediately inform the reader of his or her own code of ethics as an image-maker.")))))),s.a.createElement("section",{id:"corners"},s.a.createElement("div",{className:"max-width"},s.a.createElement("div",{className:"row corner-blocks"},s.a.createElement("div",{className:"col col-6 col-sm-6 col-lg-3"},s.a.createElement("div",{className:"col-content"},s.a.createElement("div",{className:"content-block corner-block"},s.a.createElement("h2",{className:"corner-title",id:"authorship"},s.a.createElement("div",null,"Author­ship")),s.a.createElement("div",null,"In the bottom right corner, you can display your own own caption, credit, copyright,  bio, and code of ethics, and if you are interested you can allow the reader to contact you or your agent for potential sales of the image.")))),s.a.createElement("div",{className:"col col-6 col-sm-6 col-lg-3"},s.a.createElement("div",{className:"col-content"},s.a.createElement("div",{className:"content-block corner-block"},s.a.createElement("h2",{className:"corner-title",id:"backstory"},s.a.createElement("div",null,"Back­story")),s.a.createElement("div",null,"In the bottom left corner, you can explain what was going on when you made the image to help the reader to better understand the circumstances when the photograph was made.")))),s.a.createElement("div",{className:"col col-6 col-sm-6 col-lg-3"},s.a.createElement("div",{className:"col-content"},s.a.createElement("div",{className:"content-block corner-block"},s.a.createElement("h2",{className:"corner-title",id:"imagery"},s.a.createElement("div",null,"Related imagery")),s.a.createElement("div",null,"In the top left corner, you can provide context to your image by contextualizing it with other images.")))),s.a.createElement("div",{className:"col col-6 col-sm-6 col-lg-3"},s.a.createElement("div",{className:"col-content"},s.a.createElement("div",{className:"content-block corner-block"},s.a.createElement("h2",{className:"corner-title",id:"links"},s.a.createElement("div",null,"Links")),s.a.createElement("div",null,"In the top right corner, you can include links to websites with a related article or video, historical explanation, or any other information that helps to deepen the reader’s understanding of the image."))))))),s.a.createElement("section",{id:"intro-end"},s.a.createElement("div",{className:"max-width"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-12 col-lg-6 left"},s.a.createElement("div",{className:"col-content"},s.a.createElement("div",{className:"content-block"},s.a.createElement("h3",null,"Want to learn more?"),s.a.createElement("h2",{className:"prompt-link"},s.a.createElement(b.a,{to:SiteSettings.path+"how"},s.a.createElement("u",null,"Learn how it works")))))),s.a.createElement("div",{className:"col col-12 col-lg-6 left"},s.a.createElement("div",{className:"col-content"},s.a.createElement("div",{className:"content-block"},s.a.createElement("h3",null,"Want to see it in action?"),s.a.createElement("h2",{className:"prompt-link"},s.a.createElement(b.a,{to:SiteSettings.path+"gallery"},s.a.createElement("u",null,"View the gallery"))))))))))}};var y=class extends s.a.Component{constructor(e){super(e),this.state={lang:"en",page:{}}}componentDidMount(){let e=this,t=v.language,a=SiteSettings.url.api+"page?slug=about&lang="+t;fetch(a).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).then(function(t){t&&e.setState({page:t})}),v.on("languageChanged",this.onLanguageChanged)}componentWillUnmount(){v.off("languageChanged",this.onLanguageChanged)}onLanguageChanged(e){this.setState({lang:e})}renderContribs(){const e=this.state.page.acf;if(!e)return;let t=[];return e.contributors.forEach((e,a)=>{t.push(s.a.createElement("div",{className:"content-block contrib-block",key:a},s.a.createElement("h3",null,e.name),e.role?s.a.createElement("h4",null,e.role):"",m()(e.bio)))}),t}render(){this.state.lang;const e=this.state.page,t=this.renderContribs();return s.a.createElement("main",{id:"about"},s.a.createElement("div",{className:"max-width"},s.a.createElement("h1",null,m()(e.post_title)),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-12"},s.a.createElement("div",{className:"col-content"},e.post_content?s.a.createElement("div",{className:"content-block"},s.a.createElement("h3",null,m()(e.post_content))):"",t||"")))))}},k=a(153),C=a.n(k);var N=class extends s.a.Component{constructor(e){super(e),this.state={lang:"en",page:{},embeds:{},embedHtmls:{}},this.slugs=["authorship","backstory","imagery","links"],this.onLanguageChanged=this.onLanguageChanged.bind(this)}componentDidMount(){let e=this,t=v.language,a=SiteSettings.url.api+"page?slug=how&lang="+t;fetch(a).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).then(function(t){t&&(e.setState({page:t}),e.initEmbeds())}),v.on("languageChanged",this.onLanguageChanged)}componentWillUnmount(){v.off("languageChanged",this.onLanguageChanged)}componentDidUpdate(){}onLanguageChanged(e){this.setState({lang:e})}initEmbeds(){this.slugs.forEach((e,t)=>{if(this.state.page&&this.state.page.acf){const t=this.state.page.acf,a=m()(t[e+"_embed"]);let n=this.state.embedHtmls;n[e]=a,this.setState({embedHtmls:n}),C.a.prototype.init({cutline:!1,active:e})}})}renderIntro(){return this.state.lang,this.state.page,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-12 col-lg-6 left"},s.a.createElement("div",{className:"col-content"},s.a.createElement("div",{className:"content-block"},s.a.createElement("h4",null,"By using Four Corners you are able to add contextualizing information so that it is embedded into each of the four corners of your image. When a viewer hovers his or her mouse over the image, the Four Corners symbols appear and each corner is then clickable.")))),s.a.createElement("div",{className:"col col-12 col-lg-6 right"},s.a.createElement("div",{className:"col-content"},s.a.createElement("div",{className:"content-block"},s.a.createElement("h4",null,"You can create your own Four Corners image with our online form. This provides fields you can fill in with various types of text and media. Once you fill in the provided fields, it automatically generates an embeddable code that you can copy and paste into your site.")))))}renderRow(e,t){const a="row how-block"+(t%2==0?"":" reverse"),n=this.state.page;let i={};return["title","desc","embed"].forEach((t,a)=>{n&&n.acf&&n.acf[e+"_"+t]?i[t]=m()(n.acf[e+"_"+t]):i[t]=""}),s.a.createElement("div",{className:a,key:t},s.a.createElement("div",{className:"col col-12 col-md-5 left"},s.a.createElement("div",{className:"col-content"},s.a.createElement("h2",null,i.title),i.desc)),s.a.createElement("div",{className:"col col-12 col-md-7 right"},s.a.createElement("div",{className:"col-content"},s.a.createElement("div",{className:"embed-wrapper"},this.state.embedHtmls[e]))))}render(){this.state.lang;const e=this.state.page,t=this.renderIntro();let a=[];return this.slugs.forEach((e,t)=>{a.push(this.renderRow(e,t))}),s.a.createElement("main",{id:"how"},s.a.createElement("div",{className:"max-width"},s.a.createElement("h1",null,m()(e.post_title)),t||"",a||""))}};var x=class extends s.a.Component{constructor(e){super(e),this.state={lang:"en",page:{}},this.onLanguageChanged=this.onLanguageChanged.bind(this)}componentDidMount(){let e=this,t=v.language,a=SiteSettings.url.api+"page?slug=gallery&lang="+t;fetch(a).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).then(function(t){t&&e.setState({page:t})}),v.on("languageChanged",this.onLanguageChanged)}componentWillUnmount(){v.off("languageChanged",this.onLanguageChanged)}componentDidUpdate(){}onLanguageChanged(e){this.setState({lang:e})}render(){this.state.lang;const e=this.state.page;return s.a.createElement("main",{id:"gallery"},s.a.createElement("div",{className:"max-width"},s.a.createElement("h1",null,m()(e.post_title)),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-12"},s.a.createElement("div",{className:"col-content"},e.post_content?s.a.createElement("div",{className:"content-block"},m()(e.post_content)):"")))))}};var S=class extends s.a.Component{constructor(e){super(e),this.state={lang:"en",page:{}},this.onLanguageChanged=this.onLanguageChanged.bind(this)}componentDidMount(){let e=this,t=v.language,a=SiteSettings.url.api+"page?slug=contact&lang="+t;fetch(a).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).then(function(t){t&&e.setState({page:t})}),v.on("languageChanged",this.onLanguageChanged)}componentWillUnmount(){v.off("languageChanged",this.onLanguageChanged)}componentDidUpdate(){}onLanguageChanged(e){this.setState({lang:e})}render(){this.state.lang;const e=this.state.page;return s.a.createElement("main",{id:"contact"},s.a.createElement("div",{className:"max-width"},s.a.createElement("h1",null,m()(e.post_title))))}};a(230);var w={photo:{fields:{file:{type:"file"}}},authorship:{fields:{caption:{type:"textarea",rows:2},credit:{type:"text"},license:{type:"toggle",fields:{copyright:{type:"group",fields:{year:{type:"text",style:"one-third",default:!0},holder:{type:"text",style:"two-thirds"}}},commons:{type:"select"}}},ethics:{type:"select",customize:!0},bio:{type:"textarea"},website:{type:"text"},website:{type:"text"},contact:{type:"group",fields:{info:{type:"text"},rights:{type:"text"}}}}},backstory:{fields:{text:{type:"textarea"},media:{type:"blocks",fields:{url:{type:"text",format:"uri"},caption:{type:"text"},credit:{type:"text"}}}}},imagery:{fields:{media:{type:"blocks",fields:{url:{type:"text",format:"uri"},caption:{type:"text"},credit:{type:"text"}}}}},links:{fields:{links:{type:"blocks",fields:{title:{type:"text"},url:{type:"text",format:"uri"}}}}},opts:{fields:{cutline:{type:"checkbox"},dark:{type:"checkbox"}}}};a(1);var D=class extends s.a.Component{constructor(e){super(e),this.state={opened:!1}}onClick(e){e.preventDefault(),this.setState({opened:!this.state.opened})}onMouseEnter(e){}onMouseLeave(e){}renderToggle(){return this.props.strings.desc?s.a.createElement("div",{className:"toggle-desc"},s.a.createElement("div",{onClick:this.onClick.bind(this),onFocus:this.onClick.bind(this)})):null}render(){const e=this.props.strings,t="field-desc desc"+(this.state.opened?" opened":"");return s.a.createElement("div",{className:"field-label",id:this.props.id},e&&e.label?s.a.createElement("label",{name:this.props.fieldKey,htmlFor:this.props.fieldKey},e.label,this.renderToggle()):null,e&&e.desc?s.a.createElement("div",{className:t},e.desc):null)}};var j=class extends s.a.Component{constructor(e){super(e),this.state={value:""}}componentDidUpdate(){this.props.fieldValue!=this.state.value&&this.setState({value:this.props.fieldValue})}onChange(e){const t=e.target.name,a=e.target.value;this.props.onChange(t,a)}render(){const e=this.props,t=e.setKey,a=e.fieldKey,n=e.field.strings,i=e.field.style,l=[t,a].join("_");let r=e.field.default?n.placeholder:"";return this.state.value&&(r=this.state.value),s.a.createElement("div",{className:"field input "+(i||"")},this.props.hideLabel?"":s.a.createElement(D,{strings:n,fieldKey:a}),s.a.createElement("input",{name:l,className:"form-elem",value:this.state.value?this.state.value:r,placeholder:n.placeholder,onChange:this.onChange.bind(this)}))}};var L=class extends s.a.Component{constructor(e){super(e),this.state={value:""}}componentDidUpdate(){this.props.fieldValue!=this.state.value&&this.setState({value:this.props.fieldValue})}onChange(e){const t=e.target.name,a=e.target.value;this.props.onChange(t,a)}render(){const e=this.props.setKey,t=this.props.fieldKey,a=this.props.field.strings,n=a.placeholder,i=this.props.field.rows,l=[e,t].join("_");return s.a.createElement("div",{className:"field input"},this.props.hideLabel?"":s.a.createElement(D,{strings:a,fieldId:t}),s.a.createElement("textarea",{name:l,className:"form-elem",rows:i||6,value:this.state.value,placeholder:n,onChange:this.onChange.bind(this)}))}};var _=class extends s.a.Component{constructor(e){super(e),this.state={value:""}}componentDidUpdate(){const e=this.props.fieldValue.imgSrc;e&&e!=this.state.value&&this.setState({value:e})}onChange(e){this.props.sendImgSrc(e.target.value)}render(){const e=this.props.setKey,t=this.props.fieldKey,a=this.props.field.strings,n=[e,t].join("_");return s.a.createElement("div",{className:"field file"},this.props.hideLabel?"":s.a.createElement(D,{strings:a,feildKey:t}),s.a.createElement("input",{className:"form-control",id:t,name:n,type:"url",value:this.state.value,placeholder:"https://sample.org/photo.jpg",onChange:this.onChange.bind(this)}))}};a(8);var F=class extends s.a.Component{constructor(e){super(e),this.state={custom:!1,customText:"",value:""},this.selectRef=s.a.createRef()}componentDidUpdate(){const e=this.props.fieldValue;e&&e!=this.state.value&&this.setState({value:e})}onChange(e){}onClick(e){if(e.preventDefault(),e.target.parentElement.classList.contains("toggle-desc"))return;const t=e.currentTarget.classList.contains("custom");let a=e.currentTarget.dataset.value;try{a=JSON.parse(a)}catch(e){console.warn(e)}this.setState({value:a,custom:t});const n=this.selectRef.current.name;this.props.onChange(n,a)}onChangeCustom(e){const t=e.currentTarget.value,a={desc:t};this.setState({custom:!0,customText:t,value:a});const n=this.selectRef.current.name;this.props.onChange(n,a)}render(){const e=this.props.fieldKey,t=this.props.field.strings,a=[this.props.setKey,e].join("_"),n=this.props.field.options,i=this.state.value,l=this.props.field.customize;return s.a.createElement("div",{className:"field select"},this.props.hideLabel?"":s.a.createElement(D,{strings:t,fieldKey:e}),s.a.createElement("select",{name:a,className:"form-elem",value:i,ref:this.selectRef,onChange:this.onChange},n?n.map((e,t)=>{const a=JSON.stringify(e);let n=e.label,i=e.desc;return s.a.createElement("option",{key:t,value:a},n+(i?": "+i:""))}):""),s.a.createElement("div",{"data-field":e,className:"select-widget form-elem","data-value":void 0===i?"":i},n?n.map((t,n)=>{let r=t.label,c=t.desc;const o=l&&0==n;o&&(t.desc=this.state.customText);const d=JSON.stringify(t);let m=i.desc===t.desc?"option selected":"option";return m+=o?" custom":"",s.a.createElement("div",{key:n,className:m,"data-value":d,onClick:this.onClick.bind(this)},o?s.a.createElement(s.a.Fragment,null,s.a.createElement("label",null,r),c?s.a.createElement("div",{className:"option-desc desc"},c):"",s.a.createElement("textarea",{name:a+"Custom",className:"form-elem",onChange:this.onChangeCustom.bind(this)})):s.a.createElement(D,{strings:t,fieldKey:e}))}):""))}};const K=a(97);var M=class extends s.a.Component{constructor(e){super(e),this.state={blocks:[],blockMedia:[],superIndex:0}}componentDidUpdate(){const e=this.props.fieldValue;e&&e!=this.state.blocks&&(e.map((t,a)=>{e[a].index=a}),this.setState({blocks:e,superIndex:e.length+1}))}onChange(e){const t=e.target,a=t.name,n=t.value,s=a.split("_"),i=s[0],l=s[1],r=s[2],c=[i,l].join("_"),o=Number(t.parentElement.parentElement.dataset.index);let d=this.state.blocks,m=d[o];m[r]=n,"media"==l&&m.url&&this.getMediaData(m,i,o),this.setState({blocks:d}),this.props.onChange(c,d)}getMediaData(e,t,a){const n=e.url,s=e.source,i=encodeURIComponent(n);let l="";const r=this.state.blockMedia.slice(0),c=Object.assign({},this.state.blockMedia);switch(s){case"youtube":l="https://noembed.com/embed?url="+i;break;case"vimeo":l="https://vimeo.com/api/oembed.json?url="+i;break;case"soundcloud":l="https://soundcloud.com/oembed?format=json&url="+i;break;default:l=null}if(l){const e=new Headers;fetch(l,{method:"GET",headers:e,mode:"cors",cache:"default"}).then(e=>{if(!e.ok)throw Error(e.statusText);return e.json()}).then(e=>{r[a]={html:e.html,width:e.width,height:e.height},this.setState({blockMedia:r}),c[t]=r,this.props.sendMediaData(c)}).catch(function(e){console.log(e)})}else r[a]={url:i},this.setState({blockMedia:r}),c[t]=r,this.props.sendMediaData(c)}renderBlocks(){let e=[];return this.state.blocks.map((t,a)=>{t.deleted||e.push(this.renderBlock(t,a))}),e}renderBlock(e,t){const a=this.state.blocks,n=this.props.setKey,i=this.props.fieldKey,l=this.props.field,r=l.fields,c=Object.keys(r);if(!l.types)return null;const o=l.types[e.source];if(!o)return null;o.slug=K(o.label,{lower:!0}),o.name=[n,i,"source"].join("_");let d=[];c.map((t,a)=>{const n=r[t],s=e[t];d.push(this.renderField(t,n,s,o,e.index,a))});const m=t-1,h=t+1;return s.a.createElement("div",{className:"block-widget","data-slug":e.sourceSlug,"data-index":t,key:e.index},s.a.createElement("input",{name:o.name,type:"hidden",value:o.slug}),d,s.a.createElement("div",{className:"widget-buttons"},m>=0?s.a.createElement("div",{"data-dir":"up","data-new-index":m,className:"widget-button move-block",onClick:this.moveBlock.bind(this)}):"",h<a.length?s.a.createElement("div",{"data-dir":"down","data-new-index":h,className:"widget-button move-block",onClick:this.moveBlock.bind(this)}):"",s.a.createElement("div",{className:"widget-button delete-block",onClick:this.deleteBlock.bind(this)})))}renderField(e,t,a,n,i,l){const r=this.props.setKey,c=this.props.fieldKey,o=(this.props.data,[r,c,e,i,l].join("_"));let d=Object.assign({},t.strings);return"url"==e&&(d=n),s.a.createElement("div",{className:"field",key:l},s.a.createElement(D,{strings:d,fieldKey:c}),s.a.createElement("input",{name:o,className:"form-elem",type:"text",value:a,placeholder:d.placeholder,onChange:this.onChange.bind(this)}))}renderButtons(){const e=this.props.field.types;if(!e)return;let t=[];return Object.keys(e).map((a,n)=>{let s=e[a];const i=this.renderButton(s,a,n);t.push(i)}),t}renderButton(e,t,a){return s.a.createElement("div",{key:a,className:"button add-block","data-slug":t,onClick:this.addBlock.bind(this)},"Add ",e.label)}addBlock(e){e.preventDefault();const t=[this.props.setKey,this.props.fieldKey].join("_"),a=this.state.blocks.concat([{source:e.target.dataset.slug,index:this.state.superIndex}]);this.setState({blocks:a,superIndex:this.state.superIndex+1}),this.props.onChange(t,a),this.props.sendActiveCorner(this.props.setKey)}deleteBlock(e){this.state.blocks;const t=this.props.setKey,a=this.props.fieldKey,n=e.target.parentElement.parentElement,s=Number(n.dataset.index),i=[t,a].join("_"),l=this.state.blocks.filter((e,t)=>t!==s),r=this.state.blockMedia.filter((e,t)=>t!==s);this.setState({blocks:l,blockMedia:r}),this.props.onChange(i,l),this.props.sendActiveCorner(t);let c=Object.assign({},this.props.mediaData);c[t]=r,this.props.sendMediaData(c)}moveBlock(e){const t=this.props.setKey,a=[t,this.props.fieldKey].join("_"),n=e.target.parentElement.parentElement,s=Number(n.dataset.index),i=e.target.dataset.newIndex;let l=this.state.blocks,r=this.state.blockMedia;if(!l[i])return;let c=l.splice(s,1)[0];l.splice(i,0,c);let o=r.splice(s,1)[0];r.splice(i,0,o),this.setState({blocks:l,blockMedia:r}),this.props.onChange(a,l);let d=Object.assign({},this.props.mediaData);d[t]=r,this.props.sendMediaData(d)}render(){const e=this.props.setKey,t=this.props.fieldKey;return this.props.field.strings,[e,t].join("_"),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"blocks-widget"},this.renderBlocks()),s.a.createElement("div",{className:"buttons-group"},this.renderButtons()))}};var O=class extends s.a.Component{constructor(e){super(e),this.state={value:"",mediaData:[]}}onFocus(e){}onChange(e){const t=e.target,a=t.name,n=t.value;this.props.onChange(a,n)}renderGroup(){const e=this.props.field;if(!e)return;const t=e.fields;let a=[];return Object.keys(t).map((e,n)=>{const s=t[e],i=this.renderSubField(e,s,n);a.push(i)}),a}renderSubField(e,t,a){const n=this.props.setKey,i=this.props.fieldKey,l=t.style,r=t.strings,c=[n,i,e].join("_");return s.a.createElement("div",{className:"field input "+l,key:a},s.a.createElement(D,{strings:r,fieldKey:e}),s.a.createElement("input",{name:c,type:"text",defaultValue:t.default?r.placeholder:"",placeholder:t.placeholder,className:"form-elem",onFocus:this.onFocus.bind(this),onChange:this.onChange.bind(this)}))}render(){const e=this.props.setKey,t=(this.props.fieldKey,this.props.field.strings);return s.a.createElement("div",{className:"field fields-group"},this.props.hideLabel?"":s.a.createElement(D,{strings:t,setKey:e}),this.renderGroup())}};var P=class extends s.a.Component{constructor(e){super(e),this.state={value:!1}}componentDidUpdate(){this.props.fieldValue!=this.state.value&&this.setState({value:this.props.fieldValue})}onChange(e){const t=e.target.name,a=e.target.checked;this.props.onChange(t,a)}render(){const e=this.props,t=e.fieldKey,a=e.field.strings,n=e.field.style,i=[e.setKey,t].join("_"),l=this.state.value;return s.a.createElement("div",{className:"field checkbox "+(n||"")},s.a.createElement("div",{className:"checkbox-widget"},s.a.createElement("input",{className:"toggle",id:t,name:i,type:"checkbox",checked:l||!1,onChange:this.onChange.bind(this)}),s.a.createElement("label",{className:"checkbox",htmlFor:t},s.a.createElement("div",{className:"label-inner"},a&&a.label?s.a.createElement("span",null,a.label):""))),a&&a.desc?s.a.createElement("div",{className:"desc"},a.desc):"")}};var T=class extends s.a.Component{constructor(e){super(e),this.state={value:"",values:{},checked:null,mediaData:[]}}componentDidUpdate(){const e=this.props.fieldValue;e!=this.state.value&&this.setState({value:e,values:{fieldValue:e},checked:e?e.type:null})}onChange(e,t){this.state.formData;const a=e.split("_");a[0],a[1];let n=a[2],s=a[3],i=[a[0],a[1]].join("_"),l=Object.assign({},this.state.value);l.length||(l.type=n),"object"==typeof t?l=Object.assign(l,t):l[s]=t;let r=Object.assign({},this.state.values);r[n]=l,this.setState({values:r,value:l}),this.props.onChange(i,l)}onToggle(e){const t=this.state.checked,a=e.target,n=a.id,s=a.checked;let i,l,r=a.name,c=n.split("_")[2];t!=c&&s&&(i=c,l=this.state.values[c]),this.setState({checked:i,value:l}),s?this.onChange(r,l):(r=r.substr(0,r.lastIndexOf("_")),this.props.onChange(r,l))}renderCheckboxes(){const e=this.props.field;if(!e)return;const t=e.fields,a=Object.keys(t);let n=[];return a.map((e,s)=>{const i=t[a],l=this.renderCheckbox(e,i,s);n.push(l)}),n}renderCheckbox(e,t,a){const n=this.props.setKey,i=this.props.fieldKey,l=this.props.field.fields[e].strings,r=([n,i].join("_"),[n,i,e].join("_")),c=this.state.checked;return s.a.createElement("div",{className:"field checkbox half",key:a},s.a.createElement("div",{className:"checkbox-widget"},s.a.createElement("input",{className:"toggle",id:r,name:r,type:"checkbox",checked:c==e,onChange:this.onToggle.bind(this)}),s.a.createElement("label",{className:"checkbox",htmlFor:r},s.a.createElement("div",{className:"label-inner"},l&&l.label?s.a.createElement("span",null,l.label):""))))}renderFields(){const e=this.props.field;if(!e)return;const t=e.fields;let a=[];return Object.keys(t).map((e,n)=>{const s=t[e],i=this.renderField(e,s,n);a.push(i)}),a}renderField(e,t,a){const n=this.props.setKey,i=this.props.fieldKey,l=this.props.field.fields[e],r=l.strings,c=([n,e].join("_"),[i,e].join("_")),o="field-toggle-field"+(this.state.checked==e?" active":"");let d,m=this.props.fieldValue;switch(l.type){case"text":d=s.a.createElement(j,{key:a,setKey:n,fieldKey:c,field:l,fieldValue:m,hideLabel:!0,onChange:this.onChange.bind(this)});break;case"textarea":d=s.a.createElement(L,{key:a,setKey:n,fieldKey:c,field:l,fieldValue:m,hideLabel:!0,onChange:this.onChange.bind(this)});break;case"select":d=s.a.createElement(F,{key:a,setKey:n,fieldKey:c,field:l,fieldValue:m,hideLabel:!0,onChange:this.onChange.bind(this)});break;case"group":d=s.a.createElement(O,{key:a,setKey:n,fieldKey:c,field:l,fieldValue:m,hideLabel:!0,onChange:this.onChange.bind(this),sendMediaData:this.props.sendMediaData})}return s.a.createElement("div",{className:o,key:a},r&&r.desc?s.a.createElement("div",{className:"desc",dangerouslySetInnerHTML:{__html:r.desc}}):"",d)}render(){const e=this.props.id,t=this.props.field.strings;return[this.props.setKey,e].join("_"),s.a.createElement("div",{className:"field field-toggle"},s.a.createElement(D,{strings:t,fieldId:e}),s.a.createElement("div",{className:"field-toggle-checkboxes"},this.renderCheckboxes()),s.a.createElement("div",{className:"field-toggle-fields"},this.renderFields()))}};var A=class extends s.a.Component{constructor(e){super(e),this.state={expand:!1}}componentDidMount(){}componentWillUnmount(){}componentDidUpdate(){}toggleExpand(){}onToggle(){const e=this.props.setKey,t=e==this.props.activeFieldset?null:e;t&&this.props.sendActiveCorner(t),this.props.sendActiveFieldset(t)}renderFields(){const e=this.props.formData,t=this.props.data.fields,a=Object.keys(t),n=[];for(let i of a){const a=t[i],l=this.props.setKey,r=n.length;let c=e[l]?e[l][i]:null;switch(a.type){case"file":n.push(s.a.createElement(_,{key:r,setKey:l,fieldKey:i,field:a,fieldValue:this.props.imgData,onChange:this.props.onChange,sendImgSrc:this.props.sendImgSrc}));break;case"text":n.push(s.a.createElement(j,{key:r,setKey:l,fieldKey:i,field:a,fieldValue:c,onChange:this.props.onChange}));break;case"textarea":n.push(s.a.createElement(L,{key:r,setKey:l,fieldKey:i,field:a,fieldValue:c,onChange:this.props.onChange}));break;case"checkbox":n.push(s.a.createElement(P,{key:r,setKey:l,fieldKey:i,field:a,fieldValue:c,onChange:this.props.onChange}));break;case"select":n.push(s.a.createElement(F,{key:r,setKey:l,fieldKey:i,field:a,fieldValue:c,onChange:this.props.onChange}));break;case"blocks":n.push(s.a.createElement(M,{key:r,setKey:l,fieldKey:i,field:a,fieldValue:c,onChange:this.props.onChange,sendActiveCorner:this.props.sendActiveCorner,sendMediaData:this.props.sendMediaData}));break;case"group":n.push(s.a.createElement(O,{key:r,setKey:l,fieldKey:i,field:a,fieldValue:c,onChange:this.props.onChange,sendMediaData:this.props.sendMediaData}));break;case"toggle":n.push(s.a.createElement(T,{key:r,setKey:l,fieldKey:i,field:a,fieldValue:c,onChange:this.props.onChange,sendMediaData:this.props.sendMediaData}))}}return n}render(){const e=this.props.data,t=this.props.setKey,a=e.strings,n=t==this.props.activeFieldset;return s.a.createElement("fieldset",{id:t,className:n?"expand":"collapse"},s.a.createElement("legend",{onClick:this.onToggle.bind(this)},s.a.createElement("span",null,a.title)),s.a.createElement("div",{className:"fieldset-inner"},a.desc?s.a.createElement("div",{className:"fieldset-desc desc"},a.desc):"",this.renderFields()))}};const I=a(97);var R=class extends s.a.Component{constructor(e){super(e),this.state={mediaData:this.props.mediaData,formData:{authorship:{},backstory:{},imagery:{},links:{},opts:{}},imgSrc:null},this.translations=this.props.creator.acf}componentDidMount(){}componentWillUnmount(){}componentDidUpdate(e,t,a){this.props.formData!=this.state.formData&&this.setState({formData:this.props.formData})}onFocus(e){const t=e.target.name.split("_")[0];this.props.sendActiveCorner(t),this.props.sendActiveFieldset(t)}onBlur(e){}onChange(e,t){const a=this.state.formData,n=e.split("_"),s=n[0],i=n[1],l=n[2];a[s]&&(l?(a[s][i]||(a[s][i]={}),a[s][i][l]=t):a[s][i]=t,this.setState({formData:a}),this.props.sendFormData(a))}onToggle(e){}onError(e){}renderSchema(){let e=[];this.state.lang;const t=Object.keys(w),a=this.translations;if(a){for(let n of t){const t=w[n].fields,i=Object.keys(t);w[n].strings={title:a[[n,"title"].join("_")],desc:a[[n,"desc"].join("_")]};for(let e of i){let s=t[e];if(s)if(w[n].fields[e].strings={label:a[[n,e,"label"].join("_")],desc:a[[n,e,"desc"].join("_")],placeholder:a[[n,e,"placeholder"].join("_")]},"select"==s.type){const t=a[[n,e,"options"].join("_")];w[n].fields[e].options=t}else if("checkbox"==s.type){if(s.fields&&s.fields.length){w[n].fields[e].options={};for(let t of s.fields)w[n].fields[e].options[t]={label:a[[n,e,t,"label"].join("_")],desc:a[[n,e,t,"desc"].join("_")]}}}else if("blocks"==s.type){const t="types",s=w[n].fields[e].fields,i=Object.keys(s);for(let l of i){const i=s[l],r=a[[n,e,"types"].join("_")];if(w[n].fields[e][t]={},r)for(let a of r){let s=a.slug||I(a.label,{lower:!0});w[n].fields[e][t][s]=a}if(w[n].fields[e].fields[l].strings={label:a[[n,e,l,"label"].join("_")],placeholder:a[[n,e,l,"placeholder"].join("_")],desc:a[[n,e,l,"desc"].join("_")]},"select"==i.type){const t=a[[n,e,l,"options"].join("_")];w[n].fields[e].fields[l].options=t}}}else if("toggle"==s.type){const t=w[n].fields[e].fields,s=Object.keys(t);for(let i of s){const s=t[i];if(w[n].fields[e].fields[i].strings={label:a[[n,e,i,"label"].join("_")],placeholder:a[[n,e,i,"placeholder"].join("_")],desc:a[[n,e,i,"desc"].join("_")]},"group"==s.type){const t=this.buildGroup(w,n,e,i);w[n].fields[e].fields[i].fields=t}else if("select"==s.type){const t=a[[n,e,i,"options"].join("_")];w[n].fields[e].fields[i].options=t}}}else if("group"==s.type){const t=this.buildGroup(w,n,e);w[n].fields[e].fields=t}}e.push(s.a.createElement(A,{key:n,setKey:n,data:w[n],formData:this.state.formData,imgData:this.props.imgData,onChange:this.onChange.bind(this),activeCorner:this.props.activeCorner,activeFieldset:this.props.activeFieldset,sendActiveCorner:this.props.sendActiveCorner,sendActiveFieldset:this.props.sendActiveFieldset,sendMediaData:this.props.sendMediaData,sendImgSrc:this.props.sendImgSrc}))}return e}}buildGroup(e,t,a,n){let s=[t,a].join("_"),i=e[t].fields[a].fields;n&&(i=i[n].fields,s=[s,n].join("_"));const l=this.translations,r=Object.keys(i);for(let e of r)i[e].strings={label:l[[s,e,"label"].join("_")],placeholder:l[[s,e,"placeholder"].join("_")],desc:l[[s,e,"desc"].join("_")]};return i}render(){return s.a.createElement("div",{className:"col-inner"},s.a.createElement("div",{id:"forms",className:"col-content"},s.a.createElement("div",{className:"content-block"},this.props.creator.post_content),s.a.createElement("form",{onFocus:this.onFocus.bind(this)},this.renderSchema())))}};a(368),a(376),a(53);var B=class extends s.a.Component{constructor(e){super(e)}createLink(e,t,a=[]){return t||(t=this.extractRootDomain(e)),e.indexOf("@")>-1&&(e="mailto:"+e),s.a.createElement("a",{href:e,target:"_blank",className:a.join(" ")},t)}extractHostname(e){let t;return!!e&&(t=(t=(t=e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0]).split("?")[0])}extractRootDomain(e){if(!e)return!1;let t=this.extractHostname(e),a=t.split("."),n=a.length;return n>2&&(t=a[n-2]+"."+a[n-1],2==a[n-2].length&&2==a[n-1].length&&(t=a[n-3]+"."+t)),t}render(){const e=this.props.panelData,t=e.license&&"copyright"==e.license.type;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"fc-row"},e.caption?s.a.createElement("div",{className:"fc-field","data-fc-field":"caption"},s.a.createElement("em",null,e.caption)):"",t||e.credit?s.a.createElement("div",{className:"fc-field","data-fc-field":"credit"},s.a.createElement("div",{className:"fc-content"},t?s.a.createElement("div",{className:"fc-copyright"},null!=e.license.year?s.a.createElement("span",null,e.license.year):s.a.createElement("span",null,"2019"),s.a.createElement("span",null,e.credit?e.credit:"",e.license.holder?(e.credit?"/":"")+e.license.holder:"")):s.a.createElement("span",null,e.credit))):"",e.license&&e.license.label&&"commons"==e.license.type?s.a.createElement("div",{className:"fc-field","data-fc-field":"license"},s.a.createElement("span",{className:"fc-label"},"License"),s.a.createElement("span",{className:"fc-content"},e.license.url?s.a.createElement("a",{href:e.license.url,target:"_blank"},e.license.label?e.license.label:""):e.license.label?e.license.label:"")):"",e.ethics&&e.ethics.desc?s.a.createElement("div",{className:"fc-field","data-fc-field":"ethics"},s.a.createElement("span",{className:"fc-label"},"Code of ethics"),s.a.createElement("span",{className:"fc-content"},s.a.createElement("div",{className:"fc-sub-caption"},e.ethics.desc))):"",e.bio?s.a.createElement("div",{className:"fc-field","data-fc-field":"bio"},s.a.createElement("span",{className:"fc-label"},"Bio"),s.a.createElement("div",{className:"fc-content"},e.bio)):"",e.website||e.contact?s.a.createElement("div",{className:"fc-field fc-contact"},e.website?s.a.createElement("div",{className:"fc-field fc-card","data-fc-field":"website"},s.a.createElement("div",{className:"fc-label"},"Website"),s.a.createElement("div",{className:"fc-content"},this.createLink(e.website))):"",e.contact?s.a.createElement("div",null,e.contact.info?s.a.createElement("div",{className:"fc-field fc-card","data-fc-field":"contact-info"},s.a.createElement("div",{className:"fc-label"},"For more info contact"),s.a.createElement("div",{className:"fc-content"},this.createLink(e.contact.info))):"",e.contact.rights?s.a.createElement("div",{className:"fc-field fc-card","data-fc-field":"contact-rights"},s.a.createElement("div",{className:"fc-label"},"For reproduction rights contact"),s.a.createElement("div",{className:"fc-content"},this.createLink(e.contact.rights))):""):""):""))}};var U=class extends s.a.Component{constructor(e){super(e)}renderMedia(e,t){const a=this.props.mediaData;if(a&&a[t]){if("image"==e.source)return e.url?s.a.createElement("div",{className:"fc-media"},s.a.createElement("img",{src:e.url})):"";{const e=a[t].html;return e?s.a.createElement("div",{className:"fc-media",dangerouslySetInnerHTML:{__html:e}}):""}}}renderBackstory(e){const t=e.text,a=t?t.split(/\n/g):[];let n=[];return n.push(a?s.a.createElement("div",{className:"fc-row",key:-1},a.map((e,t)=>e?s.a.createElement("p",{key:t},e):s.a.createElement("br",{key:t}))):""),e.media&&e.media.map((e,t)=>{n.push(s.a.createElement("div",{className:"fc-row",key:t},this.renderMedia(e,t),e.caption?s.a.createElement("div",{className:"fc-sub-caption"},e.caption):"",e.credit?s.a.createElement("div",{className:"fc-sub-credit"},e.credit):""))}),n}render(){const e=this.props.panelData;return s.a.createElement(s.a.Fragment,null,e?this.renderBackstory(e):"")}};var V=class extends s.a.Component{constructor(e){super(e)}renderMedia(e,t){const a=this.props.mediaData;if(a&&a[t]){if("image"==e.source)return e.url?s.a.createElement("div",{className:"fc-media"},s.a.createElement("img",{src:e.url})):"";{const e=a[t].html;return e?s.a.createElement("div",{className:"fc-media",dangerouslySetInnerHTML:{__html:e}}):""}}}renderImagery(e){let t=[];return e.map((e,a)=>{t.push(s.a.createElement("div",{className:"fc-row",key:a},this.renderMedia(e,a),e.caption?s.a.createElement("div",{className:"fc-sub-caption"},e.caption):"",e.credit?s.a.createElement("div",{className:"fc-sub-credit"},e.credit):""))}),t}render(){const e=this.props.panelData;return s.a.createElement(s.a.Fragment,null,e&&e.media?this.renderImagery(e.media):"")}};var H=class extends s.a.Component{constructor(e){super(e)}createLink(e,t,a=[]){return t||(t=this.extractRootDomain(e)),e&&e.indexOf("@")>-1&&(e="mailto:"+e),s.a.createElement("a",{href:e,target:"_blank",className:a.join(" ")},t)}extractHostname(e){let t;return!!e&&(t=(t=(t=e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0]).split("?")[0])}extractRootDomain(e){if(!e)return!1;let t=this.extractHostname(e),a=t.split("."),n=a.length;return n>2&&(t=a[n-2]+"."+a[n-1],2==a[n-2].length&&2==a[n-1].length&&(t=a[n-3]+"."+t)),t}renderLinks(e){let t=[];return e.forEach((e,a)=>{const n=this.extractRootDomain(e.url),i=e.url||e.title?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,e.title?e.title:n),s.a.createElement("div",{className:"fc-sub-url"},n)):"";t.push(s.a.createElement("div",{className:"fc-row",key:a},this.createLink(e.url,i,["fc-card"])))}),t}render(){const e=this.props.panelData.links;return s.a.createElement(s.a.Fragment,null,e?this.renderLinks(e):"")}};var q=class extends s.a.Component{constructor(e){super(e),this.corners=["imagery","links","authorship","backstory"],this.state={fourCorners:null,formData:{},expandPanel:!1}}componentDidMount(){const e=FourCorners.default.prototype.init();e&&(this.fourCorners=e[0])}componentDidUpdate(e,t,a){}onChangeOpts(e){let t={formData:this.props.formData};t[e.target.id]=e.target.checked,this.setState(t)}onClick(e){this.props.sendActiveFieldset("photo")}onFocus(e){e.target.setSelectionRange(0,e.target.value.length)}onBlur(e){}onError(e){console.log("Error",e)}onScroll(e){}openPanel(e){const t=e.target.dataset.fcSlug;this.props.sendActiveCorner(t),this.setState({expandPanel:!1})}toggleExpandPanel(){this.setState({expandPanel:!this.state.expandPanel})}collapsePanel(){this.props.sendActiveCorner(null),this.setState({expandPanel:!1})}renderPanels(){const e={};Object.entries(this.props.formData).map(t=>this.corners.includes(t[0])?e[t[0]]=t[1]:"");const t=[],a=this.props.creator;return Object.entries(e).forEach((e,n)=>{const i=e[0],l=[i,"title"].join("_"),r=e[1];let c="";if(Object.keys(r).length)switch(i){case"authorship":c=s.a.createElement(B,{panelData:r});break;case"backstory":c=s.a.createElement(U,{panelData:r,mediaData:this.props.mediaData.backstory});break;case"imagery":c=s.a.createElement(V,{panelData:r,mediaData:this.props.mediaData.imagery});break;case"links":c=s.a.createElement(H,{panelData:r})}const o=a&&a.acf?a.acf[l]:"&nbsp;";let d="fc-panel fc-"+i;this.props.activeCorner==i&&(d+=" fc-active"),t.push(s.a.createElement("div",{className:d,"data-fc-slug":i,key:n},s.a.createElement("div",{className:"fc-panel-title"},o,s.a.createElement("div",{className:"fc-icon fc-expand",onClick:this.toggleExpandPanel.bind(this)}),s.a.createElement("div",{className:"fc-icon fc-close",onClick:this.collapsePanel.bind(this)})),s.a.createElement("div",{className:"fc-panel-title fc-pseudo"},o),c?s.a.createElement("div",{className:"fc-scroll"},s.a.createElement("div",{className:"fc-inner"},c)):""))}),t}renderCorners(){const e=[];return this.corners.forEach((t,a)=>{let n="fc-corner fc-"+t;this.props.activeCorner==t&&(n+=" fc-active"),e.push(s.a.createElement("div",{key:a,className:n,"data-fc-slug":t,onClick:this.openPanel.bind(this)}))}),e}renderCutline(){const e=this.props.formData;if(!e)return;const t=e.opts;return t&&t.cutline?s.a.createElement("div",{className:"fc-cutline"},e.authorship.credit,s.a.createElement("a",{href:"https://fourcornersproject.org",target:"_blank"})):void 0}render(){const e=this.props.imgData,t=e?e.imgSrc:null,a=e?e.imgLoaded:null,n=this.props.formData.opts;let i="fc-embed";n&&n.dark&&(i+=" fc-dark"),this.state.expandPanel&&(i+=" fc-full"),t&&(i+=" fc-loaded");const l=this.props.activeCorner;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:i,"data-fc-active":this.corners.includes(l)?l:""},a?"":s.a.createElement("div",{className:"no-photo",onClick:this.onClick.bind(this)},s.a.createElement("h2",null,"Add your photo")),s.a.createElement("div",{className:a?"fc-photo fc-loaded":"fc-photo"},s.a.createElement("img",{src:t,className:"fc-img"})),this.renderCorners(),this.renderPanels()),this.renderCutline())}};var W=class extends s.a.Component{constructor(e){super(e),this.state={includeCss:!1,includeJs:!1,stickyStyle:{},expand:!1},this.imgInputRef=s.a.createRef(),this.outputRef=s.a.createRef(),this.includeJSRef=s.a.createRef(),this.includeCSSRef=s.a.createRef(),this.stickyRef=s.a.createRef(),this.cssURL="https://cdn.jsdelivr.net/gh/four-corners/four-corners.js/dist/four-corners.min.css",this.jsURL="https://cdn.jsdelivr.net/gh/four-corners/four-corners.js/dist/four-corners.min.js",this.cssCDN='<link href="'+this.cssURL+'" rel="stylesheet" type="text/css">',this.jsCDN='<script src="'+this.jsURL+'" type="text/javascript"><\/script>'}componentDidMount(){document.body.addEventListener("scroll",this.onScroll.bind(this)),window.addEventListener("resize",this.onScroll.bind(this))}componentWillUnmount(){document.body.removeEventListener("scroll",this.onScroll.bind(this)),window.removeEventListener("resize",this.onScroll.bind(this))}onChangeOpts(e){let t={formData:this.props.formData};"checkbox"==e.target.type&&(t[e.target.name]=e.target.checked),this.setState(t)}onFocus(e){e.target.setSelectionRange(0,e.target.value.length)}onBlur(e){}onError(e){console.log("Error",e)}onToggle(e){e.preventDefault();let t=e.currentTarget.parentElement.id;t==this.state.expand&&(t=null),this.setState({expand:t})}onScroll(e){}embedCode(e){const t=this.props.imgData;let a={lang:v.language},n=Object.assign(e,a);return"<div class='fc-embed' data-fc='"+JSON.stringify(n).replace(/'/g,"&apos;")+"'>"+(t.imgLoaded?"<img class='fc-img' src='"+t.imgSrc+"'/>":"")+"</div>"}render(){const e=this.props.creator,t=this.props.imgLoaded?"has-image":"";return s.a.createElement("div",{className:"col-inner"},s.a.createElement("div",{className:"sticky",style:this.state.stickyStyle,ref:this.stickyRef},s.a.createElement("div",{className:"col-content"},s.a.createElement("div",{id:"preview",className:t},s.a.createElement(q,{creator:e,formData:this.props.formData,imgData:this.props.imgData,mediaData:this.props.mediaData,activeCorner:this.props.activeCorner,activeFieldset:this.props.activeFieldset,sendActiveCorner:this.props.sendActiveCorner,sendActiveFieldset:this.props.sendActiveFieldset}),s.a.createElement("div",{id:"embed-output"},s.a.createElement("form",{name:"embed",onChange:this.onChangeOpts.bind(this)},s.a.createElement("fieldset",{id:"embedPhoto"},s.a.createElement("legend",null,s.a.createElement("span",null,e&&e.acf?e.acf.embed_title:null)),s.a.createElement("div",{className:"fieldset-inner"},s.a.createElement("div",{className:"fields-group"},s.a.createElement("div",{className:"field"},e&&e.acf&&e.acf.embed_desc?s.a.createElement("div",{className:"desc",dangerouslySetInnerHTML:{__html:e.acf.embed_desc}}):"",s.a.createElement("textarea",{className:"output form-elem",id:"json",readOnly:!0,ref:this.outputRef,rows:3,value:this.embedCode(this.props.formData),onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this)}))))),s.a.createElement("fieldset",{id:"addScripts",className:"addScripts"==this.state.expand?"expand":"collapse"},s.a.createElement("legend",{onClick:this.onToggle.bind(this)},s.a.createElement("span",null,e&&e.acf?e.acf.scripts_title:null)),s.a.createElement("div",{className:"fieldset-inner"},s.a.createElement("div",{className:"fields-group"},s.a.createElement("div",{className:"field"},e&&e.acf&&e.acf.scripts_desc?s.a.createElement("div",{className:"desc",dangerouslySetInnerHTML:{__html:e.acf.scripts_desc}}):"",s.a.createElement("textarea",{className:"output form-elem",id:"libraries",readOnly:!0,rows:2,value:this.jsCDN+this.cssCDN,onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this)})))))))))))}};a(97);var J=class extends s.a.Component{constructor(e){super(e),this.state={openPopup:!1}}openPopup(e){"LABEL"===e.target.tagName&&this.setState({openPopup:!0})}closePopup(e){this.setState({openPopup:!1})}importCode(e){e.preventDefault();const t=e.target.querySelector("textarea").value;try{const a=m()(t)[0],n=a.props.children[0].props.src,s=JSON.parse(a.props["data-fc"]);this.props.sendImgSrc(n),this.props.sendFormData(s),this.closePopup()}catch(e){console.log(e)}}onError(e){}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"embed-import",className:this.state.openPopup?"opened":""},s.a.createElement("div",{id:"open-import",onClick:this.openPopup.bind(this),href:"#"},s.a.createElement(D,{strings:{label:"Import code to edit",desc:"Have you've already created a Four Corners embed and wish to make some edits? Click here to import your code and use the forms to make the changes you wish."}})),s.a.createElement("div",{id:"embed-import-popup"},s.a.createElement("div",{className:"content-block"},s.a.createElement("form",{onSubmit:this.importCode.bind(this)},s.a.createElement("legend",null,"Import code to edit"),s.a.createElement("div",{className:"desc"},"Paste the HTML code you previously generated on this page."),s.a.createElement("textarea",{name:"import-code",className:"form-elem",rows:5}),s.a.createElement("div",{className:"buttons-group"},s.a.createElement("div",{className:"button",onClick:this.closePopup.bind(this)},"Cancel"),s.a.createElement("input",{className:"button",type:"submit",value:"Import code"})))))))}};var z=class extends s.a.Component{constructor(e){super(e),this.state={creator:{},lang:"en",formData:{authorship:{},backstory:{},imagery:{},links:{},opts:{}},imgData:{},mediaData:{imagery:[],backstory:[]},activeCorner:null,activeFieldset:null},this.corners=["imagery","authorship","backstory","links"],this.outputRef=s.a.createRef()}componentDidMount(){let e=this,t=v.language,a=SiteSettings.url.api+"creators?lang="+t;fetch(a).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).then(function(t){if(!t.length)return!1;e.setState({creator:t[0]})}).catch(function(e){console.log(e)}),v.on("languageChanged",this.onLanguageChanged)}componentWillUnmount(){v.off("languageChanged",this.onLanguageChanged)}onLanguageChanged(e){this.setState({lang:e})}setFormData(e){this.setState({formData:e})}setMediaData(e){this.setState({mediaData:e})}setActiveCorner(e){e||(e=""),this.setState({activeCorner:e})}setActiveFieldset(e){e||(e=""),this.setState({activeFieldset:e})}setImgSrc(e){let t=new Image;t.onload=(t=>{this.setState({imgData:{imgSrc:e,imgLoaded:!0}})}),t.onerror=(e=>{this.setState({imgData:{imgLoaded:!1}})}),t.src=e}renderFormCol(){return s.a.createElement(R,{lang:this.state.lang,creator:this.state.creator,formData:this.state.formData,imgData:this.state.imgData,activeCorner:this.state.activeCorner,activeFieldset:this.state.activeFieldset,sendActiveCorner:this.setActiveCorner.bind(this),sendActiveFieldset:this.setActiveFieldset.bind(this),sendFormData:this.setFormData.bind(this),sendMediaData:this.setMediaData.bind(this),sendImgSrc:this.setImgSrc.bind(this)})}renderPreviewCol(){return s.a.createElement(W,{lang:this.state.lang,creator:this.state.creator,formData:this.state.formData,mediaData:this.state.mediaData,imgData:this.state.imgData,activeCorner:this.state.activeCorner,activeFieldset:this.state.activeFieldset,sendActiveCorner:this.setActiveCorner.bind(this),sendActiveFieldset:this.setActiveFieldset.bind(this)})}render(){this.state.lang;const e=this.state.creator&&this.state.creator.ID;return s.a.createElement("main",{id:"creator"},s.a.createElement("div",{className:"max-width"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-12 col-sm-6 col-md-5 left"},s.a.createElement("h2",null,"Create your own")),s.a.createElement("div",{className:"col col-12 col-sm-6 col-md-7 right"},s.a.createElement(J,{sendFormData:this.setFormData.bind(this),sendImgSrc:this.setImgSrc.bind(this)}))),s.a.createElement("div",{className:"row","data-sticky-container":!0},s.a.createElement("div",{className:"col col-12 col-sm-6 col-md-5 left col-form"},e?this.renderFormCol():null),s.a.createElement("div",{className:"col col-12 col-sm-6 col-md-7 right col-preview"},this.renderPreviewCol()))))}};var G=class extends s.a.Component{constructor(e){super(e),this.state={slug:null,page:null}}componentDidMount(){let e=window.location.href.split("/"),t=e.pop()||e.pop();this.getPage(t),v.on("languageChanged",this.onLanguageChanged)}componentWillReceiveProps(e){let t=e.location.pathname.split("/"),a=t.pop()||t.pop();a!=this.state.slug&&(this.setState({slug:null,page:null}),this.getPage(a))}componentWillUnmount(){v.off("languageChanged",this.onLanguageChanged)}onLanguageChanged(e){this.setState({lang:e})}getPage(e){let t=this,a=v.language,n=SiteSettings.url.api+"page?slug="+e+"&lang="+a;this.setState({slug:e}),fetch(n).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).then(function(e){e&&t.setState({page:e})})}render(){this.state.lang;const e=this.state.page;return s.a.createElement("main",{id:this.state.slug},e?s.a.createElement("div",{className:"max-width"},s.a.createElement("h1",null,m()(e.post_title)),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-12"},s.a.createElement("div",{className:"col-content"},e.post_content?s.a.createElement("div",{className:"content-block"},m()(e.post_content)):"")))):"")}};a(372),a(373);const Q=s.a.createElement(l.a,null,e=>s.a.createElement(r.a,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(c.a,null,s.a.createElement(o.a,{exact:!0,path:SiteSettings.path,render:e=>s.a.createElement(E,null)}),s.a.createElement(o.a,{exact:!0,path:SiteSettings.path+"about",render:e=>s.a.createElement(y,null)}),s.a.createElement(o.a,{path:SiteSettings.path+"how",render:e=>s.a.createElement(N,null)}),s.a.createElement(o.a,{path:SiteSettings.path+"gallery",render:e=>s.a.createElement(x,null)}),s.a.createElement(o.a,{path:SiteSettings.path+"contact",render:e=>s.a.createElement(S,null)}),s.a.createElement(o.a,{path:SiteSettings.path+"create",render:e=>s.a.createElement(z,null)}),s.a.createElement(o.a,{path:"*",component:G})))));Object(i.render)(Q,document.getElementById("page"))}});